<div align="center">
  <img src="src/main/resources/FIA.png" alt="FIA Logo" width="120">
  <h1>FIA: è§å…‰å›¾åƒé…å‡†å·¥å…· (v3.0.0)</h1>
  
  <p>
    <strong>ä¸“ä¸º ImageJ/Fiji æ‰“é€ çš„åŒå¼•æ“ã€æŠ—å¹²æ‰°è¿åŠ¨æ ¡æ­£æ’ä»¶</strong>
  </p>

  <p align="center">
    <a href="https://github.com/Epivitae/FIA-Fluorescence-Image-Aligner/releases">
      <img src="https://img.shields.io/badge/release-v3.0.0-blue.svg" alt="Release">
    </a>    
    <a href="https://doi.org/10.5281/zenodo.18211241">
      <img src="https://zenodo.org/badge/DOI/10.5281/zenodo.18211241.svg" alt="DOI">
    </a>
    <img src="https://img.shields.io/badge/platform-ImageJ%20%2F%20Fiji-red.svg" alt="Platform">
    <a href="https://opensource.org/licenses/MIT">
      <img src="https://img.shields.io/badge/license-MIT-green.svg" alt="License">
    </a>    
  </p>
</div>

---

## ğŸ“– ç®€ä»‹

**FIA (Fluorescence Image Aligner)** æ˜¯ä¸€æ¬¾ä¸“ä¸ºè§å…‰æ˜¾å¾®æˆåƒï¼ˆå¦‚é’™æˆåƒã€ç”µå‹æˆåƒï¼‰è®¾è®¡çš„ ImageJ/Fiji é…å‡†æ’ä»¶ã€‚

**v3.0.0 é‡Œç¨‹ç¢‘ç‰ˆæœ¬**å¼•å…¥äº†é©å‘½æ€§çš„ **â€œåŒå¼•æ“æ¶æ„â€**ï¼Œå®Œç¾èåˆäº† OpenCV çš„é«˜ç²¾åº¦ä¸ç»å…¸ç®—æ³•çš„é«˜é²æ£’æ€§ï¼Œèƒ½å¤Ÿè§£å†³ä»**äºšåƒç´ çº§å¾®é¢¤**åˆ°**å‰§çƒˆæ ·æœ¬æ¼‚ç§»**çš„å„ç±»è¿åŠ¨ä¼ªå½±é—®é¢˜ã€‚

## âœ¨ v3.0.0 æ ¸å¿ƒç‰¹æ€§

* **ğŸš€ åŒå¼•æ“æ ¸å¿ƒ (Dual-Engine)**ï¼š
    * **OpenCV ECC (é»˜è®¤)**ï¼šåŸºäºå¢å¼ºç›¸å…³ç³»æ•°ç®—æ³•ï¼Œæä¾›äºšåƒç´ çº§ç²¾åº¦ï¼Œæ”¯æŒæ—‹è½¬æ ¡æ­£ã€‚é€‚åˆé«˜è´¨é‡çš„åŠŸèƒ½æˆåƒæ•°æ®ã€‚
    * **Legacy Stabilizer (ç»å…¸)**ï¼šå¤åˆ»äº†ç»å…¸çš„ Lucas-Kanade ç¨³åƒç®—æ³•ã€‚åœ¨å¤„ç†**å¤§å¹…åº¦ä½ç§»**ï¼ˆå¦‚åŠ¨ç‰©å‰§çƒˆè¿åŠ¨ï¼‰æ—¶å…·æœ‰æå¼ºçš„é²æ£’æ€§ã€‚
* **ğŸŒŠ å¼¹æ€§é…å‡† (Elastic Mode)**ï¼šæ–°å¢åŸºäº**å¯†é›†å…‰æµæ³• (Dense Optical Flow)** çš„éåˆšæ€§é…å‡†ï¼Œå¯ä¿®å¤ç»„ç»‡çš„ç”Ÿé•¿ã€æŒ¤å‹æˆ–æ‰­æ›²å˜å½¢ã€‚
* **âš“ åŠ¨æ€é”šç‚¹ ("æ‰€è§å³é”šç‚¹")**ï¼šä¸å†å¼ºåˆ¶ä»¥ç¬¬ä¸€å¸§ä¸ºåŸºå‡†ã€‚FIA ä¼šè‡ªåŠ¨è¯»å–æ‚¨**å½“å‰æ­£åœ¨æŸ¥çœ‹çš„æ—¶é—´å¸§**ä½œä¸ºå‚è€ƒåŸºå‡†ï¼Œå‘å‰åè¿›è¡ŒåŒå‘é…å‡†ã€‚
* **ğŸ§  æ™ºèƒ½ç•Œé¢ (Smart UI)**ï¼šæ ¹æ®é€‰æ‹©çš„å¼•æ“è‡ªåŠ¨éšè—æ— å…³å‚æ•°ï¼Œç•Œé¢æ¸…çˆ½ç®€æ´ã€‚
* **ğŸ“‚ ç»Ÿä¸€å½’æ¡£**ï¼šç°å·²é›†æˆè‡³ `Plugins > Biosensor Tool` èœå•ä¸‹ï¼Œæ–¹ä¾¿æŸ¥æ‰¾ã€‚

## ğŸ“¥ å®‰è£…æ–¹æ³•

1.  åœ¨ [Releases é¡µé¢](https://github.com/Epivitae/FIA-Fluorescence-Image-Aligner/releases) ä¸‹è½½æœ€æ–°çš„ **`FIA-3.0.0.jar`**ã€‚
2.  å°† `.jar` æ–‡ä»¶ç›´æ¥æ‹–å…¥ **Fiji** ä¸»çª—å£ï¼ˆæˆ–å¤åˆ¶åˆ° `Fiji.app/plugins/` ç›®å½•ï¼‰ã€‚
3.  **é‡å¯ Fiji**ã€‚

å®‰è£…åï¼Œæ’ä»¶å°†å‡ºç°åœ¨èœå•æ ï¼š**Plugins > Biosensor Tool > FIA Image Aligner**ã€‚

## ğŸ® ä½¿ç”¨æŒ‡å—

### 1. å¼•æ“é€‰æ‹©å»ºè®®

| å¼•æ“ | é€‚ç”¨åœºæ™¯ | ä¼˜åŠ¿ | åŠ£åŠ¿ |
| :--- | :--- | :--- | :--- |
| **OpenCV** | **åŠŸèƒ½æˆåƒ** (é’™/ç”µå‹ä¿¡å·) | ç²¾åº¦æé«˜ï¼Œæ”¯æŒæ—‹è½¬æ ¡æ­£ | å¯¹æå¤§å¹…åº¦ä½ç§»å¯èƒ½å¤±æ•ˆ |
| **Legacy** | **è¡Œä¸ºå­¦/å¤§å¹…åº¦æ¼‚ç§»** | æå¼ºçš„é²æ£’æ€§ï¼Œæ”¯æŒæ»šåŠ¨æ›´æ–° | ä¸æ”¯æŒæ—‹è½¬æ ¡æ­£ |
| **Elastic** | **è½¯ç»„ç»‡/å‘è‚²ç”Ÿç‰©å­¦** | å¯ä¿®å¤å±€éƒ¨å½¢å˜ | è®¡ç®—é‡è¾ƒå¤§ |

### 2. å‚æ•°è®¾ç½®

* **Global Modes (ç¬¬ä¸€æ­¥ï¼šæ•´ä½“é…å‡†)**:
    * **Translation**: ä»…æ ¡æ­£å¹³ç§» (XY)ã€‚
    * **Rigid**: æ ¡æ­£å¹³ç§» + æ—‹è½¬ (ä»… OpenCV)ã€‚
    * **Affine**: æ ¡æ­£å¹³ç§» + æ—‹è½¬ + ç¼©æ”¾/å‰ªåˆ‡ã€‚
* **Local Mode (ç¬¬äºŒæ­¥ï¼šå±€éƒ¨é…å‡†)**:
    * **Elastic**: ä½¿ç”¨å…‰æµæ³•æ ¡æ­£å±€éƒ¨æ‰­æ›²ã€‚
* **å…³é”®å‚æ•°**:
    * **Max Iterations**: æœ€å¤§è¿­ä»£æ¬¡æ•° (é»˜è®¤ 200)ã€‚
    * **Pyramid Levels (Legacy)**: é‡‘å­—å¡”å±‚æ•°ã€‚ä½ç§»è¶Šå¤§ï¼Œéœ€è¦çš„å±‚æ•°è¶Šé«˜ (é»˜è®¤ 1)ã€‚
    * **Update Coeff (Legacy)**: å‚è€ƒå¸§æ›´æ–°ç³»æ•°ã€‚`1.0` = å›ºå®šå‚è€ƒå¸§ (é…å‡†)ï¼›`0.90` = æ»šåŠ¨æ›´æ–° (ç¨³åƒ)ã€‚

### 3. æ“ä½œæµç¨‹
1.  æ‰“å¼€å›¾åƒæ ˆ (Stack)ã€‚
2.  æ‹–åŠ¨æ—¶é—´æ»‘å—ï¼Œæ‰¾åˆ°å›¾åƒè´¨é‡æœ€å¥½ã€ä½ç½®æœ€æ­£çš„ä¸€å¸§ (ä¾‹å¦‚ç¬¬ 50 å¸§)ã€‚
3.  ä¿æŒæ»‘å—åœ¨ç¬¬ 50 å¸§ï¼Œç‚¹å‡» **Run Alignment**ã€‚
4.  ç¨‹åºå°†è‡ªåŠ¨ä»¥ç¬¬ 50 å¸§ä¸ºé”šç‚¹ï¼Œå®Œæˆæ‰€æœ‰å¸§çš„é…å‡†ã€‚

## ğŸ“œ å¼•ç”¨ä¸è‡´è°¢

å¦‚æœæ‚¨åœ¨ç ”ç©¶ä¸­ä½¿ç”¨äº† FIAï¼Œè¯·å¼•ç”¨ï¼š

> **Wang, K. (2026).** *FIA: Fluorescence Image Aligner - Robust Motion Correction for ImageJ/Fiji (v3.0.0).* Zenodo. https://doi.org/10.5281/zenodo.18211241

**å¼€å‘è€…**: Dr. Kui Wang
**å›¢é˜Ÿ/å‡ºå“**: [www.cns.ac.cn](http://www.cns.ac.cn)

Copyright Â© 2026 [www.cns.ac.cn](http://www.cns.ac.cn)